<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Switching to Sway - My Journey Back to Linux | ~stesie's musings</title>
<meta name=keywords content="sway,wayland"><meta name=description content="I recently switched from i3 to the Sway window manager on Ubuntu Linux 24.04, exploring its flexibility and learning to configure it for my needs. I customized keybindings, set up tools like swayidle and swaylock-effects for screen locking, and used kanshi for monitor management and mako for notifications. While it required more manual effort than GNOME or macOS, the result is a highly personalized and functional setup."><meta name=author content><link rel=canonical href=https://stefansiegl.de/2025/01/switching-to-sway/><link crossorigin=anonymous href=/assets/css/stylesheet.eaf1c0e3f8327b0eecb58a6cafac5ca1bc09ab794ba654be960d9aa6b1cdd1c7.css integrity="sha256-6vHA4/gyew7stYpsr6xcobwJq3lLplS+lg2aprHN0cc=" rel="preload stylesheet" as=style><link rel=icon href=https://stefansiegl.de/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://stefansiegl.de/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://stefansiegl.de/favicon-32x32.png><link rel=apple-touch-icon href=https://stefansiegl.de/apple-touch-icon.png><link rel=mask-icon href=https://stefansiegl.de/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://stefansiegl.de/2025/01/switching-to-sway/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="Switching to Sway - My Journey Back to Linux"><meta property="og:description" content="I recently switched from i3 to the Sway window manager on Ubuntu Linux 24.04, exploring its flexibility and learning to configure it for my needs. I customized keybindings, set up tools like swayidle and swaylock-effects for screen locking, and used kanshi for monitor management and mako for notifications. While it required more manual effort than GNOME or macOS, the result is a highly personalized and functional setup."><meta property="og:type" content="article"><meta property="og:url" content="https://stefansiegl.de/2025/01/switching-to-sway/"><meta property="article:section" content="pages"><meta property="article:published_time" content="2025-01-02T00:00:00+00:00"><meta property="article:modified_time" content="2025-01-12T00:00:00+00:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Switching to Sway - My Journey Back to Linux"><meta name=twitter:description content="I recently switched from i3 to the Sway window manager on Ubuntu Linux 24.04, exploring its flexibility and learning to configure it for my needs. I customized keybindings, set up tools like swayidle and swaylock-effects for screen locking, and used kanshi for monitor management and mako for notifications. While it required more manual effort than GNOME or macOS, the result is a highly personalized and functional setup."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Pages","item":"https://stefansiegl.de/pages/"},{"@type":"ListItem","position":2,"name":"Switching to Sway - My Journey Back to Linux","item":"https://stefansiegl.de/2025/01/switching-to-sway/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Switching to Sway - My Journey Back to Linux","name":"Switching to Sway - My Journey Back to Linux","description":"I recently switched from i3 to the Sway window manager on Ubuntu Linux 24.04, exploring its flexibility and learning to configure it for my needs. I customized keybindings, set up tools like swayidle and swaylock-effects for screen locking, and used kanshi for monitor management and mako for notifications. While it required more manual effort than GNOME or macOS, the result is a highly personalized and functional setup.","keywords":["sway","wayland"],"articleBody":"A few days ago, I switched to the Sway window manager after returning to GNU/Linux a few months ago. Before spending a few years in the macOS ecosystem, I was a long-time user of i3. For those unfamiliar, i3 and Sway perform the same function, but i3 is built for X.org while Sway is designed for Wayland. In this post, I’ll share my impressions, lessons learned, and the challenges I faced during this transition.\nThe Starting Point Currently, I’m using Ubuntu Linux version 24.04 (noble). Installing Sway was straightforward since it’s packaged for Ubuntu. A simple apt install sway, logging out of GNOME, and selecting Sway at the login screen were enough to get started. Having used i3 before, I wasn’t entirely lost.\nGlobal Keybindings (Media Keys, Power Button, etc.) As expected, some features didn’t work out-of-the-box as they do in GNOME. However, Sway’s configurability allowed me to tailor things to my liking. For instance:\nLocking the screen with a hotkey.\nPutting the laptop to standby when the power button is pressed.\nConfiguring volume and brightness keys.\nI dug up my seven-year-old i3 configuration for inspiration and adapted it to Sway. The resulting keybindings look like this:\nbindsym --locked XF86AudioMute exec pactl set-sink-mute @DEFAULT_SINK@ toggle bindsym --locked XF86AudioRaiseVolume exec pactl set-sink-volume @DEFAULT_SINK@ +5% bindsym --locked XF86AudioLowerVolume exec pactl set-sink-volume @DEFAULT_SINK@ -5% bindsym --locked XF86MonBrightnessUp exec sudo brightnessctl s '10%+' bindsym --locked XF86MonBrightnessDown exec sudo brightnessctl s '10%-' bindsym --locked XF86PowerOff exec systemctl suspend bindsym $mod+l exec swaylock -f -c 200020 --clock --indicator-idle-visible swayidle: Automatic Screen Locking To ensure the screen locks automatically after five minutes of inactivity, I installed swayidle, which is conveniently available on Ubuntu. However, I quickly missed having an indication of when the lock would occur. This was particularly annoying when I didn’t want the session to lock while still sitting at my desk. The solution? swaylock-effects. This tool offers additional features, such as --fade-in and --grace parameters, providing a visual cue and a grace period before locking.\nHere’s how it’s configured in my Sway setup:\nexec swayidle -w \\ timeout 300 'swaylock -f -c 200020 --clock --indicator-idle-visible --fade-in 3 --grace 3' \\ timeout 600 'swaymsg \"output * power off\"' resume 'swaymsg \"output * power on\"' \\ before-sleep 'swaylock -f -c 200020 --clock --indicator-idle-visible' Preventing Screen Lock During Video Playback By default, swayidle doesn’t detect when audio or video is playing. This meant my screen would lock during YouTube videos. The solution was SwayAudioIdleInhibit, a tool that’s not available in Ubuntu’s repositories. After cloning the repository and building it, I added the following line to my configuration:\nexec sway-audio-idle-inhibit Automatic Monitor Configuration Previously, I used autorandr with i3 for automatic monitor configuration. The Wayland equivalent is kanshi, which is also packaged for Ubuntu. After installation (apt install kanshi), I created a .config/kanshi/config file:\nprofile home { output \"Samsung Electric Company U28E850 HTPK300903\" mode 3840x2160 position 0,0 scale 2 output eDP-1 mode 1920x1080 position 1920,0 } profile laptop-only { output eDP-1 mode 1920x1080 position 0,0 } To find which outputs are there, what their respectives names are and/or which resolutions they support, run swaymsg -t get_outputs.\nMy external monitor runs at 4K with a scale of 2, while the laptop display doesn’t use scaling. To ensure everything starts automatically and to manage workspaces between monitors, I added these lines to my Sway config:\nbindsym $mod+w focus output HDMI-A-1 bindsym $mod+v focus output eDP-1 bindsym $mod+shift+w move workspace to output HDMI-A-1 bindsym $mod+shift+v move workspace to output eDP-1 exec kanshi Desktop Notifications Sway doesn’t include a built-in notification daemon. I chose mako, which also required building from source. Adding the following line to my configuration ensures it runs on startup:\nexec mako Screenshare Turns out you need to have a look into screen sharing as well. Was a not so nice experience when I wanted to share my screen in a meeting and noticed, that Chromium no longer is able to do that.\nTo fix this\nmake sure to install xdg-desktop-portal-wlr and\nadd the following to sway config exec dbus-update-activation-environment --systemd WAYLAND_DISPLAY XDG_CURRENT_DESKTOP=sway\n","wordCount":"674","inLanguage":"en","datePublished":"2025-01-02T00:00:00Z","dateModified":"2025-01-12T00:00:00Z","mainEntityOfPage":{"@type":"WebPage","@id":"https://stefansiegl.de/2025/01/switching-to-sway/"},"publisher":{"@type":"Organization","name":"~stesie's musings","logo":{"@type":"ImageObject","url":"https://stefansiegl.de/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://stefansiegl.de/ accesskey=h title="~stesie's musings (Alt + H)">~stesie's musings</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://stefansiegl.de/categories/ title=Categories><span>Categories</span></a></li><li><a href=https://stefansiegl.de/archives/ title=Archive><span>Archive</span></a></li><li><a href=https://stefansiegl.de/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://stefansiegl.de/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class="post-title entry-hint-parent">Switching to Sway - My Journey Back to Linux</h1><div class=post-meta>Status: 🌿 Budding&nbsp;·&nbsp;Planted:&nbsp;<span title='2025-01-02 00:00:00 +0000 UTC'>Jan 2, 2025</span>&nbsp;·&nbsp;Last tended:&nbsp;<span title='2025-01-12 00:00:00 +0000 UTC'>Jan 12, 2025</span>&nbsp;·&nbsp;4 min</div></header><div class=post-content><p>A few days ago, I switched to the <a href=https://swaywm.org/>Sway</a> window manager after returning to GNU/Linux a few months ago. Before spending a few years in the macOS ecosystem, I was a long-time user of i3. For those unfamiliar, i3 and Sway perform the same function, but i3 is built for X.org while Sway is designed for Wayland. In this post, I’ll share my impressions, lessons learned, and the challenges I faced during this transition.</p><h2 id=the-starting-point>The Starting Point<a hidden class=anchor aria-hidden=true href=#the-starting-point>#</a></h2><p>Currently, I’m using Ubuntu Linux version 24.04 (<em>noble</em>). Installing Sway was straightforward since it’s packaged for Ubuntu. A simple <code>apt install sway</code>, logging out of GNOME, and selecting Sway at the login screen were enough to get started. Having used i3 before, I wasn’t entirely lost.</p><h2 id=global-keybindings-media-keys-power-button-etc>Global Keybindings (Media Keys, Power Button, etc.)<a hidden class=anchor aria-hidden=true href=#global-keybindings-media-keys-power-button-etc>#</a></h2><p>As expected, some features didn’t work out-of-the-box as they do in GNOME. However, Sway’s configurability allowed me to tailor things to my liking. For instance:</p><ul><li><p>Locking the screen with a hotkey.</p></li><li><p>Putting the laptop to standby when the power button is pressed.</p></li><li><p>Configuring volume and brightness keys.</p></li></ul><p>I dug up my seven-year-old i3 configuration for inspiration and adapted it to Sway. The resulting keybindings look like this:</p><pre tabindex=0><code>bindsym --locked XF86AudioMute exec pactl set-sink-mute @DEFAULT_SINK@ toggle
bindsym --locked XF86AudioRaiseVolume exec pactl set-sink-volume @DEFAULT_SINK@ +5%
bindsym --locked XF86AudioLowerVolume exec pactl set-sink-volume @DEFAULT_SINK@ -5%

bindsym --locked XF86MonBrightnessUp exec sudo brightnessctl s &#39;10%+&#39;
bindsym --locked XF86MonBrightnessDown exec sudo brightnessctl s &#39;10%-&#39;

bindsym --locked XF86PowerOff exec systemctl suspend

bindsym $mod+l exec swaylock -f -c 200020 --clock --indicator-idle-visible
</code></pre><h2 id=swayidle-automatic-screen-locking>swayidle: Automatic Screen Locking<a hidden class=anchor aria-hidden=true href=#swayidle-automatic-screen-locking>#</a></h2><p>To ensure the screen locks automatically after five minutes of inactivity, I installed swayidle, which is conveniently available on Ubuntu. However, I quickly missed having an indication of when the lock would occur. This was particularly annoying when I didn’t want the session to lock while still sitting at my desk. The solution? <a href=https://github.com/mortie/swaylock-effects>swaylock-effects</a>. This tool offers additional features, such as <code>--fade-in</code> and <code>--grace</code> parameters, providing a visual cue and a grace period before locking.</p><p>Here’s how it’s configured in my Sway setup:</p><pre tabindex=0><code>exec swayidle -w \
  timeout 300 &#39;swaylock -f -c 200020 --clock --indicator-idle-visible --fade-in 3 --grace 3&#39; \
  timeout 600 &#39;swaymsg &#34;output * power off&#34;&#39; resume &#39;swaymsg &#34;output * power on&#34;&#39; \
  before-sleep &#39;swaylock -f -c 200020 --clock --indicator-idle-visible&#39;
</code></pre><h2 id=preventing-screen-lock-during-video-playback>Preventing Screen Lock During Video Playback<a hidden class=anchor aria-hidden=true href=#preventing-screen-lock-during-video-playback>#</a></h2><p>By default, swayidle doesn’t detect when audio or video is playing. This meant my screen would lock during YouTube videos. The solution was <a href=https://github.com/ErikReider/SwayAudioIdleInhibit>SwayAudioIdleInhibit</a>, a tool that’s not available in Ubuntu’s repositories. After cloning the repository and building it, I added the following line to my configuration:</p><pre tabindex=0><code>exec sway-audio-idle-inhibit
</code></pre><h2 id=automatic-monitor-configuration>Automatic Monitor Configuration<a hidden class=anchor aria-hidden=true href=#automatic-monitor-configuration>#</a></h2><p>Previously, I used autorandr with i3 for automatic monitor configuration. The Wayland equivalent is kanshi, which is also packaged for Ubuntu. After installation (apt install kanshi), I created a <code>.config/kanshi/config</code> file:</p><pre tabindex=0><code>profile home {
  output &#34;Samsung Electric Company U28E850 HTPK300903&#34; mode 3840x2160 position 0,0 scale 2
  output eDP-1 mode 1920x1080 position 1920,0
}

profile laptop-only {
  output eDP-1 mode 1920x1080 position 0,0
}
</code></pre><p>To find which outputs are there, what their respectives names are and/or which resolutions they support, run <code>swaymsg -t get_outputs</code>.</p><p>My external monitor runs at 4K with a scale of 2, while the laptop display doesn’t use scaling. To ensure everything starts automatically and to manage workspaces between monitors, I added these lines to my Sway config:</p><pre tabindex=0><code class=language-sway data-lang=sway>bindsym $mod+w focus output HDMI-A-1
bindsym $mod+v focus output eDP-1

bindsym $mod+shift+w move workspace to output HDMI-A-1
bindsym $mod+shift+v move workspace to output eDP-1

exec kanshi
</code></pre><h2 id=desktop-notifications>Desktop Notifications<a hidden class=anchor aria-hidden=true href=#desktop-notifications>#</a></h2><p>Sway doesn’t include a built-in notification daemon. I chose <a href=https://github.com/emersion/mako>mako</a>, which also required building from source. Adding the following line to my configuration ensures it runs on startup:</p><pre tabindex=0><code>exec mako
</code></pre><h2 id=screenshare>Screenshare<a hidden class=anchor aria-hidden=true href=#screenshare>#</a></h2><p>Turns out you need to have a look into screen sharing as well. Was a not so nice experience when I wanted to share my screen in a meeting and noticed, that Chromium no longer is able to do that.</p><p>To fix this</p><ul><li><p>make sure to install <code>xdg-desktop-portal-wlr</code> and</p></li><li><p>add the following to sway config <code>exec dbus-update-activation-environment --systemd WAYLAND_DISPLAY XDG_CURRENT_DESKTOP=sway</code></p></li></ul></div><footer class=post-footer><ul class=post-tags><li><a href=https://stefansiegl.de/tags/sway/>Sway</a></li><li><a href=https://stefansiegl.de/tags/wayland/>Wayland</a></li></ul></footer></article></main><footer class=footer><span>© 2025 Stefan Siegl · all content is <a href=https://creativecommons.org/licenses/by-sa/4.0/deed>CC-BY-SA</a> · <a href=https://www.swyx.io/digital-garden-tos#for-visitors>Terms of Service</a></span> ·
<a href=/imprint>Imprint</a> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>